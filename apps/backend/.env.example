# =============================================================================
# Internal Apps Backend - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Generate encryption key: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
# =============================================================================

# -----------------------------------------------------------------------------
# Core Django Settings
# -----------------------------------------------------------------------------
DJANGO_SECRET_KEY=django-insecure-change-this-in-production-use-a-long-random-string
DEBUG=True
BASE_URL=http://localhost:8001

# Database (SQLite default for local dev, use PostgreSQL for production)
# For PostgreSQL via docker compose: DATABASE_URL=postgres://vector:vector@localhost:5432/vector
# Configure POSTGRES_PORT in root .env to avoid conflicts
DATABASE_URL=sqlite:///db.sqlite3

# -----------------------------------------------------------------------------
# Frontend URL (for CORS and email links)
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:5176

# -----------------------------------------------------------------------------
# AI/LLM Configuration (Required for code generation)
# -----------------------------------------------------------------------------
# OpenRouter API Key - Get from https://openrouter.ai/keys
# Supports Claude, GPT-4, Gemini, DeepSeek, Qwen, Llama, and more
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-api-key-here
OPENROUTER_APP_NAME=Internal Apps Builder

# OpenAI API Key (Optional - fallback if OpenRouter not set)
OPENAI_API_KEY=sk-your-openai-api-key-here

# -----------------------------------------------------------------------------
# Security - Encryption Key (Required for production)
# -----------------------------------------------------------------------------
# Generate with: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
# Used to encrypt sensitive data like Supabase service role keys
ENCRYPTION_KEY=your-fernet-encryption-key-here

# -----------------------------------------------------------------------------
# Email Configuration (Optional - uses console backend by default)
# -----------------------------------------------------------------------------
# For Resend (recommended):
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.resend.com
EMAIL_PORT=465
EMAIL_USE_TLS=False
EMAIL_USE_SSL=True
EMAIL_HOST_USER=resend
EMAIL_HOST_PASSWORD=re_your_resend_api_key_here
DEFAULT_FROM_EMAIL=Internal Apps <noreply@yourdomain.com>

# For development (prints to console):
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend

# -----------------------------------------------------------------------------
# Google OAuth (Optional - for social login)
# -----------------------------------------------------------------------------
# Get from https://console.cloud.google.com/apis/credentials
GOOGLE_OAUTH_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:8001/api/v1/auth/google/callback

# -----------------------------------------------------------------------------
# Celery/Redis (Required for async tasks like resource discovery)
# -----------------------------------------------------------------------------
# Use docker compose up -d to start Redis/PostgreSQL
# Configure ports in root .env to avoid conflicts (REDIS_PORT, POSTGRES_PORT)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Monitoring & Analytics (Optional)
# -----------------------------------------------------------------------------
# Sentry - Error tracking (https://sentry.io)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Mixpanel - Product analytics (https://mixpanel.com)
MIXPANEL_TOKEN=

# -----------------------------------------------------------------------------
# Production/Render Deployment Settings
# -----------------------------------------------------------------------------
# Set by Render automatically
RENDER_EXTERNAL_HOSTNAME=

# Custom API domain (if using custom domain)
API_DOMAIN=

# Render persistent disk mount path (for media files)
RENDER_DISK_MOUNT_PATH=
